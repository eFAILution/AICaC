name: AICaC Maintenance

on:
  push:
    paths:
      - '.ai/**'
      - '.github/workflows/validate-aicac.yml'
  pull_request:
    paths:
      - '.ai/**'

jobs:
  maintain:
    runs-on: ubuntu-latest
    permissions:
      contents: write  # Needed to commit badge updates

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Validate and Update AICaC
        uses: ./.github/actions/aicac-adoption
        with:
          mode: maintain
          update-badge: 'true'
